@charset "utf-8";

/** 
//  vendor > d3 map
// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––– */

.d3-map-container {
  background-color: $cloud-dancer;
  border-radius: 8px;
  position: relative;
  width: 100%;

  &:before {
    content: '';
    display: block;
    width: 100%;
    padding-top: 100%;
  }

  .d3-map-wrap-inner {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }
  .tw-map {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    filter: drop-shadow(6px 6px 0 rgba($primary-800, 0.8));
  }

  .d3-map-wrap {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }

  .d3-map-tools {
    position: absolute;
    left: 1rem;
    top: 1rem;
    z-index: 1;

    .btn {
      margin-right: .375rem;
    }
  }

  .d3-tooltips {
    position: absolute;
    text-align: center;
    padding: .5rem 1.25rem;
    font-size: .875rem;
    background-color: $neutral;
    color: $white;

    @include opacity(0);

    border: 0;
    border-radius: $tooltip-border-radius;
    pointer-events: none;
    text-anchor: middle;
    z-index: $zindex-tooltip;
    box-shadow: $tooltip-box-shadow;

    &:before {
      content: '';
      width: 1rem;
      height: 1.25rem;
      background-color: $primary-900;
      border-radius: 2px;
      position: absolute;
      bottom: -.5rem;
      left: 50%;
      transform: rotate(45deg) translateX(-50%);
      z-index: -1;
    }
  }
}

.d3-map-path {
  stroke: $white;
  stroke-width: 2;
  stroke-opacity: .66;
  font-size: .75rem;
  text-anchor: middle;
  transition: $transition-base;

  &:hover {
    background-color: $secondary;
    // transform: scale;
  }
}

.d3-map-country {
  position: relative;
  stroke: $white;
  stroke-width: 2;
  stroke-opacity: .66;
  font-size: .75rem;
  text-anchor: middle;
  transition: $transition-base;
  cursor: pointer;
}

.d3-map-txt {
  stroke: $white;
  stroke-width: 2;
  paint-order: stroke;
  font-size: .875rem;
  text-anchor: middle;
  transition: $transition-base;
  pointer-events: none;
  opacity: 0.82;
}

.d3-map-points {
  fill: $tertiary;
  stroke: rgba($white, 0.48);
  stroke-width: 2;
  transform: translateY(-1rem);
  transition: $transition-base;
  cursor: pointer;

  &:hover {
    fill: $red;

    circle {
      r: 20;
    }
  }

  text {
    font-size: .875rem;
    font-weight: 700;
    stroke: $white;
    paint-order: stroke;
    stroke-width: 3;
    fill: $dark;
    text-anchor: middle;
  }
}

// .d3-map-wrap {
//   position: relative;
// }
.d3-tooltips {
  position: absolute;
  color: $white;
  background-color: $dark;
  padding: 0.75rem 1rem;
  display: inline-block;
  font-size: 1rem;
  border-radius: 8px;
  @include opacity(0.80);
  z-index: 999;

  .d3-tooltips-ul {
    font-size: 0.875rem;


    .d3-tooltips-item {
      &.item-title {
        font-size: 125%;
        font-weight: 900;
        margin-bottom: .75rem;
      }
    }
  }
}